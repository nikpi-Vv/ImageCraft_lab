# Сформировать список задач для каждого модуля

Ниже — список конкретных задач для каждого модуля, чтобы можно было превратить это почти в backlog и раздать между вами. Такой разбор хорошо стыкуется с типичными учебными заданиями по BMP‑обработке.[^1][^2]

## 1. Модуль данных (Color/Image)

- Описать тип пикселя `Rgb` и структуру `Image` (ширина, высота, массив пикселей).[^1]
- Реализовать `image_alloc` / `image_free` (выделение памяти под `width * height` пикселей, инициализация, освобождение).[^1]
- Добавить вспомогательные функции: получение и установка пикселя по координатам (`get_pixel`, `set_pixel` или макрос/inline).[^3]
- Продумать соглашение о хранении: порядок строк (top‑down или bottom‑up) и документировать его в `image.h`.[^4]


## 2. Модуль BMP ввода‑вывода

- Описать структуры для заголовков BMP (file header, info header) и константы (тип файла, глубина 24 бита).[^4]
- Реализовать `bmp_read`: открыть файл, прочитать заголовки, проверить формат (24‑бит, без сжатия), посчитать padding, заполнить `Image`.[^4][^1]
- Реализовать `bmp_write`: по `Image` и нужному формату записать корректный заголовок и пиксели с учётом padding.[^4]
- Обработать ошибки: несоответствие формата, невозможность открыть/прочитать/записать файл, неверные размеры; аккуратно освобождать ресурсы.[^5]


## 3. Модуль фильтров

- Для каждого базового фильтра из задания описать прототип в `filters.h`.[^2]
- Реализовать «простые» фильтры: grayscale (усреднение компонент), negative (инверсия), crop (создать новое изображение нужного размера и перенести пиксели).[^6][^2]
- Реализовать «матричные» фильтры: sharpen, edge (оператор, например, Собела или другой из условия), gaussian blur (генерация ядра + свёртка).[^7][^6]
- Реализовать медианный фильтр по окну заданного размера (формирование окна, сортировка/выбор медианы).[^8]
- Добавить 1–2 своих нетривиальных фильтра (додумать идею и описать поведение в `README`).[^9]


## 4. Модуль пайплайна

- Спроектировать структуру, которая описывает одну операцию пайплайна (тип фильтра + параметры).[^10][^11]
- Реализовать разбор аргументов командной строки `argv[3..]` в список операций: распознавать ключи `-crop`, `-gs`, `-neg`, `-edge`, `-med`, `-blur` и корректно считывать их параметры.[^2]
- Реализовать функцию `run_pipeline`, которая последовательно применяет операции к `Image` и обрабатывает ошибки (неизвестный фильтр, неверное число параметров и т. д.).[^10]
- Добавить валидацию параметров (например, окно медианного фильтра > 0 и нечётное, `sigma > 0`, crop не выходит за границы).[^7]


## 5. Модуль main и инфраструктура

- Реализовать `main`: проверка числа аргументов, вызов `bmp_read`, затем `run_pipeline`, затем `bmp_write`, вывод понятных сообщений об ошибках.[^2]
- Сделать `Makefile`/CMake: список всех `.c`‑файлов, флаги (`-Wall -Wextra -std=c11`), цели `image_craft` и `clean`.[^1]
- Добавить минимальный `README.md` с описанием запуска, формата аргументов и примеров команд.[^1]
- Настроить структуру репозитория: каталоги `src/`, `include/`, `.gitignore`, возможно, папку `samples/` с тестовыми BMP.[^1]

Если хочешь, можно из этого списка прямо сейчас собрать Kanban: какие задачи берёшь ты, какие напарник, и в каком порядке их реалистично закрывать за ближайшие 1–2 недели.
